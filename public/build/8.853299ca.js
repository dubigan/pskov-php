(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{EQXa:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));n("ma9I"),n("2B1R"),n("DQNa"),n("sMBO"),n("eoL8"),n("NBAS"),n("tkto"),n("ExoC");var r=n("q1tI"),a=n.n(r),o=n("vDqi"),c=n.n(o),l=n("6xyR"),s=n("3Z9Z"),i=n("QojX"),u=n("dDCJ"),f=n("AINe"),m=n("cWnB"),p=n("xBLz");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(y,e);var t,n,r,o=w(y);function y(){var e;g(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(O(e=o.call.apply(o,[this].concat(n))),"state",{messages:[],car:{manufacturer:"",model:"",production:"",color:"",power:"",mileage:"",comment:""}}),C(O(e),"url","/testforjob/api/car/"),C(O(e),"tooltipPlace","bottom"),C(O(e),"digitsOnly",(function(e){var t=e.charCode;(t<48||t>57)&&e.preventDefault()})),C(O(e),"getErrors",(function(e){return Object.keys(e).map((function(t){return{type:"error",message:e[t]}}))})),C(O(e),"changeCar",(function(t){var n=b(b({},e.state.car),{},C({},t.target.name,t.target.value));e.setState({car:n})})),C(O(e),"changeDate",(function(t){var n=b(b({},e.state.car),{},{production:new Date(t).toLocaleDateString("ru")});e.setState({car:n})})),C(O(e),"saveCar",(function(t){c.a.post(e.url,{car:e.state.car}).then((function(t){t.data.redirect&&(window.location.href=t.data.redirect),e.setState({car:t.data,messages:[{type:"success",message:"Информация об автомобиле сохранена"}]})})).catch((function(t){e.setState({messages:e.getErrors(t.response.data)})}))})),C(O(e),"getCar",(function(){c.a.post(e.url,{}).then((function(t){e.setState({car:t.data})})).catch((function(t){e.setState({messages:e.getErrors(t.response.data)})}))})),e}return t=y,(n=[{key:"componentDidMount",value:function(){this.getCar()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(p.a,{messages:this.state.messages}),a.a.createElement(l.a,null,a.a.createElement(l.a.Title,null,"Автомобиль"),a.a.createElement(l.a.Body,null,a.a.createElement(s.a,null,a.a.createElement("div",{className:"col-6"},a.a.createElement(s.a,null,a.a.createElement(i.a.Label,{className:"col-5"},"Производитель"),a.a.createElement("input",{className:"form-control col-6",name:"manufacturer",type:"text",value:this.state.car.manufacturer,onChange:this.changeCar}),a.a.createElement(i.a.Label,{className:"col-5"},"Модель"),a.a.createElement("input",{className:"form-control col-6",name:"model",type:"text",value:this.state.car.model,onChange:this.changeCar}),a.a.createElement(i.a.Label,{className:"col-5"},"Дата выпуска"),a.a.createElement(i.a.Label,{className:"col-5",name:"color"},"Цвет"),a.a.createElement("input",{className:"form-control col-6",name:"color",type:"text",value:this.state.car.color,onChange:this.changeCar}),a.a.createElement(i.a.Label,{className:"col-5",name:"age"},"Мощность (л.с.)"),a.a.createElement("input",{className:"form-control col-6",name:"power",type:"text",maxLength:"3",value:this.state.car.power?this.state.car.power:"",onChange:this.changeCar,onKeyPress:this.digitsOnly}),a.a.createElement(i.a.Label,{className:"col-5",name:"age"},"Пробег (км.)"),a.a.createElement("input",{className:"form-control col-6",name:"mileage",type:"text",maxLength:"10",value:this.state.car.mileage?this.state.car.mileage:"",onChange:this.changeCar,onKeyPress:this.digitsOnly}))),a.a.createElement("div",{className:"col-6"},a.a.createElement(i.a.Label,{className:"col-5"},"Комментарий"),a.a.createElement(i.a.Control,{as:"textarea",rows:"7",value:this.state.car.comment,name:"comment",onChange:this.changeCar}))),a.a.createElement("hr",null),a.a.createElement("div",{className:"row spacer"},a.a.createElement("div",{className:"col-12"},a.a.createElement(u.a,{key:2,placement:this.tooltipPlace,overlay:a.a.createElement(f.a,{id:"tooltip-2"},"Сохранить информацию об автомобиле")},a.a.createElement(m.a,{variant:"primary",className:"col",onClick:this.saveCar},"Сохранить")))))))}}])&&v(t.prototype,n),r&&v(t,r),y}(r.Component)},xBLz:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("ma9I"),n("2B1R"),n("eoL8"),n("NBAS"),n("ExoC"),n("07d7"),n("5s+n"),n("R5XZ");var r=n("q1tI"),a=n.n(r),o=n("TUci");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,n,r,c=u(f);function f(){var e;l(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=c.call.apply(c,[this].concat(n))),"state",{showAlert:!1,timeout:5e3}),y(m(e),"getReactAlerts",(function(e){return e?e.map((function(e,t){var n="success"===e.type?"primary":"danger";return a.a.createElement(o.a,{variant:n,key:t},e.message)})):a.a.createElement(a.a.Fragment,null)})),y(m(e),"delay",(function(e){return new Promise((function(t){setTimeout((function(){return t()}),e)}))})),y(m(e),"showAlert",(function(){return e.state.showAlert?(e.delay(e.props.timeout?e.props.timeout:e.state.timeout).then((function(){return e.setState({showAlert:!1})})),a.a.createElement(a.a.Fragment,null,e.getReactAlerts(e.props.messages))):a.a.createElement("div",null)})),e}return t=f,(n=[{key:"componentDidUpdate",value:function(e,t){var n=!1,r=this.props.messages,a=e.messages;r&&r.length>0&&r!==a&&(n=!0),n&&!this.state.showAlert&&this.setState({showAlert:n})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.showAlert())}}])&&s(t.prototype,n),r&&s(t,r),f}(r.Component)}}]);